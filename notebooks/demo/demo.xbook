[{"kind":1,"language":"markdown","value":"# Demonstration of XPath Notebooks in VS Code"},{"kind":2,"language":"xpath","value":"/countries/country[@name eq 'China']"},{"kind":2,"language":"xpath","value":""},{"kind":2,"language":"xpath","value":"\"Hello \" || \"World\""},{"kind":2,"language":"xpath","value":"map { \"country\": \"China\", \"gdp\": \"16,642,318\" },\nmap { \"country\": \"China\", \"gdp\": \"16,642,318\" }"},{"kind":2,"language":"xpath","value":"[/nothing]"},{"kind":2,"language":"xpath","value":"[ /*/new:country[@name eq 'China']\n]"},{"kind":2,"language":"xpath","value":"[ /*/new:country[@name eq 'China'],\n\"Hello \" || \"World\"\n]"},{"kind":2,"language":"xpath","value":"//new:*"},{"kind":2,"language":"xpath","value":"base-uri(), static-base-uri()"},{"kind":2,"language":"xpath","value":"for $country in /countries/country\nreturn map {$country/@name: string($country/gdp-estimates/estimate[@org eq 'imf'])}"},{"kind":1,"language":"markdown","value":"## XPath Notebook Tables\n\n### To output JSON that can be viewed as a simple table:\n\nFor each row in the table, create a map comprising a map-entry for each column:"},{"kind":2,"language":"xpath","value":"for $country in /countries/country\nreturn\n    map:merge(\n        (\n            map:entry(\"Country\", string($country/@name)),\n            map:entry(\"IMF GDP $\", string($country/gdp-estimates/estimate[@org eq 'imf'])),\n            map:entry(\"UN GDP $\", string($country/gdp-estimates/estimate[@org eq 'un']))\n        )\n    )"},{"kind":1,"language":"markdown","value":"## GDP by country\nFor each country, create an **XPath map** with the country name and GDP estimates as map-entries."},{"kind":2,"language":"xpath","value":"for $country in /countries/country return\n  (\n    map {\n      \"Country\": string($country/@name),\n      \"IMF GDP $\": string($country/gdp-estimates/estimate[@org eq 'imf']),\n      \"UN GDP $\": string($country/gdp-estimates/estimate[@org eq 'un'])\n    }\n  )"},{"kind":2,"language":"xpath","value":"map:merge(\nfor $country in /countries/country\nreturn map:entry(\n    $country/@name,\n    map:merge( \n      for $est in $country/gdp-estimates/estimate\n      return map {\n          $est/@org: $est => replace(',', '') => xs:integer()\n        }\n    )\n  )\n)\n"},{"kind":2,"language":"xpath","value":"map:merge(\n  for $country in /countries/country\n  return map:entry(\n      $country/@name,\n      $country/gdp-estimates/estimate!replace(.,',', '')!xs:integer(.)\n    )\n)"}]